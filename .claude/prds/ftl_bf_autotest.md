---
name: ftl_bf_autotest
description: FinTech Life 後台管理系統自動化測試框架
status: backlog
created: 2025-09-06T15:11:52Z
---

# PRD: ftl_bf_autotest

## Executive Summary

開發一個基於 Stagehand + Playwright + Python 的自動化測試框架，針對 FinTech Life 後台管理系統 (https://sit-admin.fintech-life.com/) 進行全面的功能測試。該框架將採用模組化設計，每個功能和子功能使用單一 function 執行，並具備截圖記錄、測試報告等能力。

## Problem Statement

### 問題描述
FinTech Life 後台管理系統目前缺乏系統性的自動化測試，導致：
- 手動測試耗時且易出錯
- 回歸測試成本高，影響發佈效率
- 測試覆蓋率不足，潛在 bug 風險高
- 跨功能整合測試困難

### 為何重要
- 提升軟體品質與穩定性
- 加速開發週期和部署頻率
- 降低人力測試成本
- 建立可信賴的品質保證流程

## User Stories

### 主要使用者角色
1. **QA 測試工程師**：執行自動化測試、分析結果報告
2. **開發工程師**：在開發過程中驗證功能正確性
3. **DevOps 工程師**：整合測試至 CI/CD 流程

### 使用者故事

**QA 測試工程師**
- 作為 QA，我希望能夠一鍵執行完整的系統功能測試
- 作為 QA，我希望能夠獲得詳細的測試報告和截圖證據
- 作為 QA，我希望能夠單獨測試特定功能模組

**開發工程師**
- 作為開發者，我希望能夠快速驗證新功能的正確性
- 作為開發者，我希望能夠在本地環境執行測試
- 作為開發者，我希望測試失敗時能快速定位問題

**DevOps 工程師**
- 作為 DevOps，我希望能將測試整合至部署流程
- 作為 DevOps，我希望能監控測試執行狀態和結果
- 作為 DevOps，我希望能設定測試失敗時的通知機制

## Requirements

### Functional Requirements

#### 核心測試功能
1. **登入功能測試**
   - 支援正確帳密登入
   - 支援錯誤帳密驗證
   - 支援登入狀態維持

2. **系統設定模組測試**
   - 系統角色功能測試
   - 權限管理測試
   - 用戶管理測試

3. **業務功能模組測試**
   - 各主要功能選單導航
   - 資料新增、修改、刪除操作
   - 表單驗證測試

4. **測試工具功能**
   - 自動截圖記錄
   - 測試執行日誌
   - 錯誤捕捉與報告

#### 框架基礎功能
1. **模組化設計**
   - 每個功能使用單一 function 實作
   - 支援功能組合和流程測試
   - 可重複使用的通用函數

2. **配置管理**
   - 環境變數配置 (.env)
   - 測試目標 URL 管理
   - 帳號密碼安全管理

3. **報告生成**
   - 測試結果摘要報告
   - 詳細執行日誌
   - 失敗案例截圖和說明
   - 失敗呼叫的api 記錄在log 之中 
   - log 格式 日期 + 時:分:秒 

### Non-Functional Requirements

#### 效能要求
- 單一測試案例執行時間 < 30 秒
- 完整測試套件執行時間 < 10 分鐘
- 支援並行測試執行

#### 可靠性要求
- 測試結果準確率 > 99%
- 網路異常時能優雅處理
- 支援測試重試機制

#### 可維護性要求
- 程式碼結構清晰，易於擴展
- 良好的錯誤處理和日誌記錄
- 文件完整，新人容易上手

#### 安全性要求
- 測試帳號密碼加密存儲
- 測試數據不影響生產環境
- 支援測試環境隔離

## Success Criteria

### 可測量成果指標
1. **測試覆蓋率**：涵蓋 80% 以上的核心業務功能
2. **執行效率**：完整測試套件執行時間 < 10 分鐘
3. **穩定性**：連續執行 100 次成功率 > 95%
4. **缺陷檢出率**：能檢出 90% 以上的功能性缺陷

### 關鍵績效指標 (KPIs)
- 手動測試時間減少 70%
- 回歸測試執行頻率提升 5 倍
- 生產環境缺陷數量降低 50%
- 發佈週期縮短 30%

## Constraints & Assumptions

### 技術限制
- 必須使用 Python + Playwright + Stagehand 技術棧
- 目標測試環境：https://sit-admin.fintech-life.com/
- 需支援 Chrome/Chromium 瀏覽器
- 開發環境限制在現有基礎設施內

### 時程限制
- Phase 1 (基礎框架)：4 週
- Phase 2 (核心功能測試)：6 週  
- Phase 3 (進階功能和整合)：4 週

### 資源限制
- 開發人員：1-2 人
- 測試環境：共享 SIT 環境
- 硬體資源：一般開發機器規格

### 前提假設
- SIT 環境穩定可用
- 後台系統功能相對穩定
- 團隊具備 Python 和測試基礎知識
- 可取得測試專用帳號
- 登入帳號: zane.chen@fintech-life.com 
- 登入密碼: aA1234567890  


## Out of Scope

### 明確不包含的功能
1. **效能測試**：負載測試、壓力測試不在此範圍
2. **安全滲透測試**：安全性漏洞掃描另案處理
3. **行動端測試**：僅針對桌面版後台系統
4. **API 測試**：專注於 UI 功能測試
5. **資料庫直接操作**：不包含資料庫層級測試
6. **第三方服務整合測試**：如支付、簡訊等外部服務

## Dependencies

### 外部相依性
1. **測試環境**
   - SIT 環境 (https://sit-admin.fintech-life.com/) 必須可用
   - 測試專用帳號和權限配置
   - 網路連線穩定性

2. **技術套件**
   - Python 3.8+
   - Playwright
   - Stagehand
   - pytest (測試框架)
   - python-dotenv (環境變數管理)

3. **工具和服務**
   - Git 版本控制
   - CI/CD 平台 (未來整合用)
   - 測試報告儲存位置

### 內部團隊相依性
1. **開發團隊**：提供系統功能規格和變更通知
2. **QA 團隊**：協助測試案例設計和驗證
3. **DevOps 團隊**：協助環境配置和部署整合
4. **產品團隊**：確認業務流程和優先順序