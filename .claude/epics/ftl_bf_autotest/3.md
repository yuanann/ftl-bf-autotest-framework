---
name: 核心工具類別開發
status: open
created: 2025-09-06T15:25:50Z
updated: 
github: https://github.com/yuanann/ftl-bf-autotest-framework/issues/3
depends_on: [001]
parallel: true
conflicts_with: []
---

# Task: 核心工具類別開發

## Description
實作測試框架的核心工具類別，包含截圖管理、配置載入、日誌系統和測試報告生成等基礎功能。這些工具將被整個測試框架重複使用。

## Acceptance Criteria
- [ ] 實作 ScreenshotManager 類別，支援自動截圖與時間戳記命名
- [ ] 實作 ConfigLoader 類別，載入 .env 配置並提供驗證功能
- [ ] 實作 Logger 類別，支援不同等級的結構化日誌記錄
- [ ] 實作 ReportGenerator 類別，生成 HTML/JSON 格式測試報告
- [ ] 所有工具類別具備完整的錯誤處理機制
- [ ] 撰寫對應的單元測試驗證工具功能

## Technical Details
- 實作位置：utils/ 目錄下的對應 .py 檔案
- ScreenshotManager 整合 Playwright 的截圖 API，支援全頁面和元素截圖
- ConfigLoader 使用 python-dotenv 載入環境變數，提供預設值和驗證機制
- Logger 使用 Python logging 模組，支援 console 和檔案輸出
- ReportGenerator 產生包含截圖的 HTML 報告，以及機器可讀的 JSON 格式
- 所有類別採用單例模式或工廠模式，確保資源共享

## Dependencies
- [ ] Task 001 完成 (專案結構建立)
- [ ] 安裝 Playwright 和相關依賴套件
- [ ] 確認測試環境可正常存取

## Effort Estimate
- Size: M
- Hours: 8-12 hours
- Parallel: true (可與 Playwright 整合任務並行開發)

## Definition of Done
- [ ] 所有工具類別實作完成並通過測試
- [ ] 類別介面設計清晰，具備完整的 docstring 說明
- [ ] 錯誤處理機制完善，異常情況能優雅處理
- [ ] 單元測試覆蓋率達到 80% 以上
- [ ] 工具類別可被其他模組正常匯入使用
- [ ] 程式碼符合 PEP 8 規範，通過 linting 檢查
